Project aware {
    database_type: 'PostgreSQL'
    Note: 'Aware is an application designed to help users gain awareness of how they spend their time.'

}

TablePartial id {
    id int [primary key]
}

TablePartial time_bounds {
    start int [note: "Unix epoch in UTC"]
    stop int [note: "Unix epoch in UTC"]
}

TablePartial audit_trail {
    created int [note: "Unix epoch in UTC"]
    modified int [note: "Unix epoch in UTC"]
}

TablePartial name_info {
    name varchar
    description varchar
}

Table aware.labels {
    ~id
    ~name_info
}

Table aware.activity_types {
    ~id
    ~name_info
    ~time_bounds
}

Table aware.activity_types_labels {
    activity_type_id int [ref: > aware.activity_types.id]
    label_id int [ref: > aware.labels.id]
    indexes {
        (activity_type_id, label_id) [pk]
    }
}

Table aware.activities {
    ~id
    ~time_bounds
    activity_type_id int [ref: > aware.activity_types.id]
}

Table aware.measurement_types {
    ~id
    ~name_info
    ~time_bounds
}

Table aware.measurement_types_labels {
    measurement_type_id int [ref: > aware.measurement_types.id]
    label_id int [ref: > aware.labels.id]
    indexes {
        (measurement_type_id, label_id) [pk]
    }
}

Table aware.measurements {
    ~id
    start int [note: "Unix epoch in UTC"]
    measurement_type_id int [ref: > aware.measurement_types.id]
}

Table aware.measurement_templates {
    ~id
    ~name_info
    ~time_bounds
}

Table aware.measurement_template_components {
    measurement_template_id int [ref: > aware.measurement_templates.id]
    measurement_component_id int [ref: > aware.measurement_components.id]
    required_ind bool    
    indexes {
      (measurement_template_id, measurement_component_id) [pk]
    }
}

Table aware.measurement_components {
    ~id
    ~name_info
    ~time_bounds
}

Table aware.measurement_component_values {
    ~id
    measurement_id int [ref: > aware.measurements.id]
    measurement_template_id int [ref: > aware.measurement_template_components.measurement_template_id]
    measurement_component_id int [ref: > aware.measurement_template_components.measurement_component_id]
    value_obj varchar2
}